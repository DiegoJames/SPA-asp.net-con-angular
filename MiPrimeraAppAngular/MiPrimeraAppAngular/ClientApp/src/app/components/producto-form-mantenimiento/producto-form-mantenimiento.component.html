<h1>{{titulo}}</h1>

<div class="row">
    <div class="col-md-12">
      <form [formGroup]="producto" (ngSubmit)="guardarDatos()">

        <div class="form-group">
          <label>Id Producto</label>
          <input type="text" class="form-control" formControlName="idProducto" readonly />
        </div>

        <div class="form-group">
          <label>Nombre Producto</label>
          <input type="text" class="form-control" formControlName="nombre" />
          <div style="color:red" *ngIf="producto.controls['nombre'].errors?.required">
            El nombre del producto es obligatorio
          </div>
          <div style="color:red" *ngIf="producto.controls['nombre'].errors?.maxlength">
            Supero la longitud maxima
          </div>
        </div>

        <div class="form-group">
          <label>Precio</label>
          <input type="text" class="form-control" min="0" formControlName="precio" />
          <div style="color:red" *ngIf="producto.controls['precio'].errors?.required">
            El precio del producto es obligatorio
          </div>
        </div>

        <div class="form-group">
          <label>Categoria</label>
          <select formControlName="idCategoria" class="form-control">
            <option value="">--Seleccione--</option>
            <option [value]="categoria.idCategoria" *ngFor="let categoria of categorias">{{categoria.nombre}}</option>
          </select>
          <div style="color:red" *ngIf="producto.controls['idCategoria'].errors?.required">
            El nombre de la categoria es obligatoria
          </div>
        </div>

        <div class="form-group">
          <label>Marca</label>
          <select formControlName="idMarca" class="form-control">
            <option value="">--Seleccione--</option>
            <option [value]="marca.idMarca" *ngFor="let marca of marcas">{{marca.nombre}}</option>
          </select>
          <div style="color:red" *ngIf="producto.controls['idMarca'].errors?.required">
            El nombre de la marca es obligatorio
          </div>
        </div>

        <div class="form-group">
          <label>Stock</label>
          <input type="number" class="form-control" min="0" formControlName="stock" />
          <div style="color:red" *ngIf="producto.controls['stock'].errors?.required">
            El stock es obligatorio
          </div>
          <div style="color:red" *ngIf="producto.controls['stock'].errors?.puntoDecimal">
            Esta prohibido poner un punto decimal
          </div>
        </div>

        <div>
          <input [disabled]="!producto.valid" type="submit" class="btn btn-primary" value="Guardar" />
          <button [routerLink]="['/mantenimiento-producto']" class="btn btn-danger">Regresar</button>
        </div>

      </form>

      <div *ngIf="!producto.valid">
        <div class="alert alert-danger">
          El formulario no es valido
        </div>
      </div>
    </div>
  </div>

